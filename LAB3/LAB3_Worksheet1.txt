CREATE TABLE SALESREP ( 
	SALES_REP_NUMBER  CHAR(2)    NOT NULL, 	
	LAST_NAME         VARCHAR(50)   NOT NULL, 
	FIRST_NAME        VARCHAR(40)   NOT NULL, 
	STREET            VARCHAR(50)   NOT NULL, 
	CITY              VARCHAR(40)   NOT NULL, 
	PROV              CHAR(2)       DEFAULT  'ON' NOT NULL, 
	POSTAL_CODE       CHAR(6)       NOT NULL, 
	COMMISSION        NUMBER(7, 2)  NOT NULL, 
	RATE              NUMBER (3, 2) NOT NULL , 
	PRIMARY KEY( SALES_REP_NUMBER ) );  
	  

  
CREATE TABLE CUSTOMER ( 
	CUSTOMER_NUMBER     CHAR(3)      NOT NULL, 
	LAST_NAME           VARCHAR(50)  NOT NULL, 
	FIRST_NAME          VARCHAR(40)  NOT NULL, 
	STREET              VARCHAR(50)  NOT NULL, 
	CITY              VARCHAR(40)    NOT NULL, 
	PROV              CHAR(2)        DEFAULT  'ON' NOT NULL, 
	POSTAL_CODE       CHAR(6)        NOT NULL, 
	BALANCE             NUMBER(6, 2) NOT NULL, 
	CREDIT_LIMIT        NUMBER(5, 0) NOT NULL, 
	SALES_REP_NUMBER    VARCHAR(2)   NOT NULL, 	 --Sales_Rep_Number data type doesn't match the reference data type (VARCHAR-CHAR)
	CONSTRAINT CUSTOMERPK PRIMARY KEY( CUSTOMER_NUMBER ) );   
	  
	
ALTER TABLE CUSTOMER 
	ADD CONSTRAINT CUSTOMERFK 
	FOREIGN KEY( SALES_REP_NUMBER ) 
	REFERENCES SALESREP ( SALES_REP_NUMBER ); 
	 
CREATE TABLE PART ( 
	PART_NUMBER      VARCHAR(4)      DEFAULT ' ' NOT NULL, 
	PART_DESCRIPTION VARCHAR(15)     NOT NULL, 	
	ON_HAND          NUMBER(3, 0)    NOT NULL, 
	CLASS            VARCHAR(2)      NOT NULL, 
	WAREHOUSE        NUMBER(1, 0)    NOT NULL, 
	PRICE            NUMBER(6, 2)    NOT NULL, 
	CONSTRAINT PARTPK PRIMARY KEY( PART_NUMBER ) ) ;   
 
 ALTER TABLE CUSTOMER 
    ADD CONSTRAINT CUSTOMER_CREDIT_LIMIT_CK
     CREDIT < 77777; --syntax missing and wrong variable name
  
CREATE TABLE ORDERS ( 
	ORDER_NUMBER      NUMBER(5, 0)                    NOT NULL, 
	ORDER_DATE        DATE       DEFAULT CURRENT_DATE NOT NULL, 
	CUSTOMER_NUMBER   VARCHAR(3) DEFAULT ''           NOT NULL , --data type of reference doesn't match with data type of this 
	CONSTRAINT ORDERPK PRIMARY KEY( ORDER_NUMBER ) );   
	  
  
ALTER TABLE ORDERS 
	ADD CONSTRAINT ORDERSFK1 
	FOREIGN KEY( CUSTOMER_NUMBER ) 
	REFERENCES CUSTOMER ( CUSTOMER_NUMBER );
 
  
CREATE TABLE ORDERLINE ( 
	ORDER_NUMBER      NUMBER(5, 0) DEFAULT 0  NOT NULL, 
	PART_NUMBER       VARCHAR(4)   DEFAULT '' NOT NULL , 
	NUMBER_ORDERED    NUMBER(3, 0) DEFAULT 0  NOT NULL, 
	QUOTED_PRICE      NUMBER(6, 2) DEFAULT 0 NOT NULL, 
	CONSTRAINT ORDERLPK PRIMARY KEY( ORDER_NUMBER , PART_NUMBER ) );   

  
ALTER TABLE ORDERLINE 
	ADD CONSTRAINT ORDERLFK1 
	FOREIGN KEY( ORDER_NUMBER ) 
	REFERENCES ORDERS ( ORDER_NUMBER ); 
	
  
ALTER TABLE ORDERLINE 
	ADD CONSTRAINT ORDERLFK2 
	FOREIGN KEY( PART_NUMBER ) 
	REFERENCES PART ( PART_NUMBER ) ;

  
COMMIT;

DROP TABLE CUSTOMER;
DROP TABLE SALESREP;
DROP TABLE ORDERLINE;
DROP TABLE ORDERS;
DROP TABLE PART;